extends ../layout

block body
  #modal-change-password(tabindex='-1', role='dialog').modal.fade
    .modal-dialog(role='document')
      .modal-content
        .modal-header.d-block.text-center
          h5.modal-title= t('Change password')
        form(action=ctx.path, method='POST').ajax-form.confirm-prompt.mt-3
          input(type='hidden', name='_method', value='PUT')
          input(type="hidden", name="_csrf", value=ctx.csrf)
          input(type='hidden', name='change_password', value='true')
          .modal-body
            .form-group.row
              label.control-label.col-md-4.col-form-label.text-md-right= t('Old password')
              .col-md-8
                input(type='password', name='old_password', required).form-control
            .form-group.row
              label.control-label.col-md-4.col-form-label.text-md-right= t('Password')
              .col-md-8
                input(type='password', name='password', required).form-control
            .form-group.row
              label.control-label.col-md-4.col-form-label.text-md-right= t('Confirm password')
              .col-md-8
                input(type='password', name='confirm_password', required).form-control
          .modal-footer.text-right
            button(type='button', data-dismiss='modal', aria-label=t('Cancel')).btn.btn-secondary= t('Cancel')
            button(type='submit').btn.btn-primary= t('Change password')
  .container-fluid.py-3
    .row.mt-1
      .col
        include ../_breadcrumbs
        form(action=ctx.path, method='POST').ajax-form.confirm-prompt
          input(type='hidden', name='_method', value='PUT')
          input(type="hidden", name="_csrf", value=ctx.csrf)
          .card.card-bg-light
            h4.card-header= t('Update Profile')
            .card-body
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('First name')
                .col-md-8
                  input(type='text', name=config.passport.fields.givenName, value=user[config.passport.fields.givenName]).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Last name')
                .col-md-8
                  input(type='text', name=config.passport.fields.familyName, value=user[config.passport.fields.familyName]).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Email address')
                .col-md-8
                  input(type='email', required, name='email', value=user.email, disabled).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Telephone Number')
                .col-md-8
                  input(type='text', name='phoneNumber', value=user.phoneNumber).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Company Name')
                .col-md-8
                  input(type='text', name='companyName', value=user.companyName).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Street')
                .col-md-8
                  input(type='text', name='companyStreet', value=user.companyStreet).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('House Number')
                .col-md-8
                  input(type='text', name='companyHouseNumber', value=user.companyHouseNumber).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Zip Code')
                .col-md-8
                  input(type='text', name='companyZip', value=user.companyZip).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('City')
                .col-md-8
                  input(type='text', name='companyCity', value=user.companyCity).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Account Holder')
                .col-md-8
                  input(type='text', name='payAccountHolder', value=user.payAccountHolder).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('IBAN')
                .col-md-8
                  input(type='text', name='payIban', value=user.payIban).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('BIC')
                .col-md-8
                  input(type='text', name='payBic', value=user.payBic).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Institute')
                .col-md-8
                  input(type='text', name='payInstitute', value=user.payInstitute).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('VAT ID')
                .col-md-8
                  input(type='text', name='payVatId', value=user.payVatId).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Zahlung auf Rechnung statt per SEPA-Lastschrift. (Erfordert die Pr√ºfung durch einen Vertriebsmitarbeiter)')
                .col-md-8
                  input(type='checkbox', name='payByInvoice', value=user.payByInvoice).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Papierlose Rechnung (Sie erhalten Ihre Rechnung als PDF per E-Mail)')
                .col-md-8
                  input(type='checkbox', name='eInvoice', value=user.eInvoice).form-control
              .form-group.row
                label.control-label.col-md-4.col-form-label.text-md-right= t('Password')
                .col-md-8.my-auto
                  button(data-toggle='modal', data-target='#modal-change-password', type='button').btn.btn-secondary.btn-sm= t('Change password')
            .card-footer.text-right
              button(type='reset').btn.btn-secondary= t('Reset')
              button(type='submit').btn.btn-primary= t('Save')
